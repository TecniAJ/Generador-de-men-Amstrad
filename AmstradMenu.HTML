
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Menús BASIC para Amstrad CPC</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 5px;
        }
        h1 {
            color: #444;
            text-align: center;
        }
        .configuracion {
            background-color: #fff;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-width: 875px;
            margin: 20px auto;
        }
        .section {
            margin-bottom: 20px;
        }
        .section-header {
            background-color: #007BFF;
            color: white;
            padding: 5px;
            border-radius: 5px;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: bold;
        }
        select, input[type="text"], input[type="number"] {
            padding: 5px;
            width: 100%;
            max-width: 300px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .color-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            white-space: nowrap; 
        }
        .preview {
            width: 40px;
            height: 20px;
            border: 1px solid #333;
            margin-left: 10px;
        }
        .color-row label {
            width: 280px; 
        }
        button {
            background-color: #28a745;
            color: white;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            display: block;
            width: 100%;
            max-width: 200px;
            margin: 20px auto;
        }
        button:hover {
            background-color: #218838;
        }
        #downloadLink {
            display: block;
            text-align: center;
            margin-top: 20px;
            text-decoration: none;
            font-weight: bold;
            color: #007BFF;
        }
        #downloadLink:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<h1>Generador de Menús BASIC para Amstrad CPC</h1>
<p style="text-align:center; font-size: 18px;">Creado por Pedro Aranda y Daph Baelemans para la comunidad de Amstrad V1</p>

<div class="configuracion">
    <!-- Sección del borde de la pantalla -->
    <div class="section">
        <div class="section-header">Configuración de Pantalla</div>
        <div class="color-row">
            <label for="colorBorde">Color Del Borde De La Pantalla:</label>
            <select id="colorBorde" onchange="actualizarPreview('colorBorde', 'previewBorde')">
                <option value="0" style="background-color: #000000;">0 - Negro</option>
                <option value="1" style="background-color: #000080;">1 - Azul oscuro</option>
                <option value="2" style="background-color: #0000FF;">2 - Azul brillante</option>
                <option value="3" style="background-color: #800000;">3 - Rojo oscuro</option>
                <option value="4" style="background-color: #800080;">4 - Magenta oscuro</option>
                <option value="5" style="background-color: #8000FF;">5 - Malva</option>
                <option value="6" style="background-color: #FF0000;">6 - Rojo brillante</option>
                <option value="7" style="background-color: #FF0080;">7 - Púrpura</option>
                <option value="8" style="background-color: #FF00FF;">8 - Magenta brillante</option>
                <option value="9" style="background-color: #008000;">9 - Verde oscuro</option>
                <option value="10" style="background-color: #008080;">10 - Cian</option>
                <option value="11" style="background-color: #0080FF;">11 - Azul cielo</option>
                <option value="12" style="background-color: #808000;">12 - Amarillo oscuro</option>
                <option value="13" style="background-color: #808080;">13 - Blanco</option>
                <option value="14" style="background-color: #8080FF;">14 - Azul pastel</option>
                <option value="15" style="background-color: #FF8000;">15 - Naranja</option>
                <option value="16" style="background-color: #FF8080;">16 - Rosa</option>
                <option value="17" style="background-color: #FF80FF;">17 - Magenta pastel</option>
                <option value="18" style="background-color: #00FF00;">18 - Verde brillante</option>
                <option value="19" style="background-color: #00FF80;">19 - Verde mar</option>
                <option value="20" style="background-color: #00FFFF;">20 - Cian brillante</option>
                <option value="21" style="background-color: #80FF00;">21 - Lima</option>
                <option value="22" style="background-color: #80FF80;">22 - Verde pastel</option>
                <option value="23" style="background-color: #80FFFF;">23 - Cian pastel</option>
                <option value="24" style="background-color: #FFFF00;">24 - Amarillo brillante</option>
                <option value="25" style="background-color: #FFFF80;">25 - Amarillo pastel</option>
                <option value="26" style="background-color: #FFFFFF;">26 - Blanco brillante</option>

            </select>
            <div class="preview" id="previewBorde" style="background-color: #000000;"></div>
        </div>
    </div>

    <!-- Sección del título del menú -->
    <div class="section">
        <div class="section-header">Configuración del Título</div>
        <div class="form-group">
            <label for="titulo">Título del Menú:</label>
            <input type="text" id="titulo" value="Nombre del Menú">
        </div>

        <div class="color-row">
            <label>Color del Texto de la Cabecera:</label>
            <select id="colorTextoCabecera" onchange="actualizarPreview('colorTextoCabecera', 'previewTextoCabecera')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewTextoCabecera" style="background-color: blue;"></div>
        </div>

        <div class="color-row">
            <label>Color del Cajetín de la Cabecera:</label>
            <select id="colorCajetinCabecera" onchange="actualizarPreview('colorCajetinCabecera', 'previewCajetinCabecera')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewCajetinCabecera" style="background-color: blue;"></div>
        </div>
    </div>

    <!-- Sección de la configuración de colores -->
    <div class="section">
        <div class="section-header">Configuración de Colores del Texto</div>

        <div class="color-row">
            <label>Color del Texto:</label>
            <select id="colorTexto" onchange="actualizarPreview('colorTexto', 'previewTexto')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewTexto" style="background-color: blue;"></div>
        </div>

        <div class="color-row">
            <label>Color del Número:</label>
            <select id="colorNumero" onchange="actualizarPreview('colorNumero', 'previewNumero')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewNumero" style="background-color: blue;"></div>
        </div>

        <div class="color-row">
            <label>Color del Número (Seleccionado):</label>
            <select id="colorNumeroSeleccionado" onchange="actualizarPreview('colorNumeroSeleccionado', 'previewNumeroSeleccionado')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewNumeroSeleccionado" style="background-color: blue;"></div>
        </div>

        <div class="color-row">
            <label>Color del Cajetín del Número:</label>
            <select id="colorCajetinNumero" onchange="actualizarPreview('colorCajetinNumero', 'previewCajetinNumero')">
                <option value="0" style="background-color: blue;">0: Azul (paleta 1)</option>
                <option value="1" style="background-color: yellow;">1: Amarillo intenso (paleta 24)</option>
                <option value="2" style="background-color: cyan;">2: Cyan claro (paleta 20)</option>
                <option value="3" style="background-color: red;">3: Rojo claro (paleta 6)</option>
            </select>
            <div class="preview" id="previewCajetinNumero" style="background-color: blue;"></div>
        </div>
    </div>

    <!-- Sección para configurar los programas -->
    <div class="section">
        <div class="section-header">Configuración de Programas</div>
        <label for="numProgramas">Número de Programas:</label>
        <input type="number" id="numProgramas" value="5" min="1" max="10" onchange="crearCamposProgramas()">
        <div id="programas">
            <!-- Aquí se agregarán los campos para los programas -->
        </div>
    </div>

    <button onclick="generarBAS()">Generar Archivo .BAS</button>

    <a id="downloadLink" style="display:none;">Descargar Archivo Disc.bas</a>

    <script>
        // Función para crear los campos de entrada de los programas
        function crearCamposProgramas() {
            let numProgramas = document.getElementById("numProgramas").value;
            let programasDiv = document.getElementById("programas");
            programasDiv.innerHTML = ""; // Limpiar los campos anteriores

            for (let i = 1; i <= numProgramas; i++) {
                let programLabel = document.createElement("label");
                programLabel.innerHTML = `Programa ${i.toString().padStart(2, '0')}: `;
                let programName = document.createElement("input");
                programName.type = "text";
                programName.id = `programa${i}Nombre`;
                programName.value = `PROGRAMA ${i.toString().padStart(2, '0')}`;

                let fileLabel = document.createElement("label");
                fileLabel.innerHTML = ` Archivo ${i.toString().padStart(2, '0')}: `;
                let programFile = document.createElement("input");
                programFile.type = "text";
                programFile.id = `programa${i}Archivo`;
                programFile.value = `PROG${i.toString().padStart(2, '0')}.BAS`;

                programasDiv.appendChild(programLabel);
                programasDiv.appendChild(programName);
                programasDiv.appendChild(fileLabel);
                programasDiv.appendChild(programFile);
                programasDiv.appendChild(document.createElement("br"));
            }
        }

        // Función para actualizar la previsualización de color desde el inicio
        function actualizarPreview(idSelect, idPreview) {
            const select = document.getElementById(idSelect);
            const color = select.options[select.selectedIndex].style.backgroundColor;
            document.getElementById(idPreview).style.backgroundColor = color;
        }

        // Actualizar todos los previsualizadores de colores al cargar la página
        function actualizarTodosLosPrevios() {
            actualizarPreview('colorBorde', 'previewBorde');
            actualizarPreview('colorTextoCabecera', 'previewTextoCabecera');
            actualizarPreview('colorCajetinCabecera', 'previewCajetinCabecera');
            actualizarPreview('colorTexto', 'previewTexto');
            actualizarPreview('colorNumero', 'previewNumero');
            actualizarPreview('colorNumeroSeleccionado', 'previewNumeroSeleccionado');
            actualizarPreview('colorCajetinNumero', 'previewCajetinNumero');
        }

        // Función para generar el archivo .BAS
        function generarBAS() {
            let titulo = document.getElementById("titulo").value;
            let numProgramas = document.getElementById("numProgramas").value;
            let colorTextoCabecera = document.getElementById("colorTextoCabecera").value;
            let colorCajetinCabecera = document.getElementById("colorCajetinCabecera").value;
            let colorTexto = document.getElementById("colorTexto").value;
            let colorNumero = document.getElementById("colorNumero").value;
            let colorNumeroSeleccionado = document.getElementById("colorNumeroSeleccionado").value;
            let colorCajetinNumero = document.getElementById("colorCajetinNumero").value;
            let colorBorde = document.getElementById("colorBorde").value;

            let basContent = `10 BORDER ${colorBorde}\n20 MODE 1\n30 PEN ${colorTextoCabecera}:PAPER 0\n40 DIM B$(20)\n`;
            basContent += `50 cabecera$="${titulo}"\n`;
            basContent += `60 X%=19-LEN(cabecera$)/2\n`;
            basContent += `70 ESPACIOS%=4+LEN(cabecera$)\n`;
            basContent += `80 PAPER ${colorCajetinCabecera}\n90 FOR Y%=1 TO 3\n`;
            basContent += `100 LOCATE X%,Y%:PRINT SPACE$(ESPACIOS%)\n110 NEXT Y%\n`;
            basContent += `120 LOCATE X%,2\n130 PRINT"  "+cabecera$\n`;
            basContent += `140 PAPER 0:READ Z%\n150 FOR I%=1 TO Z%:READ a$,b$(I%):LOCATE 5,I%*(2+(Z%>10))+5:PEN ${colorNumero}:PRINT USING"##";I%;:PRINT") ";:PEN ${colorTexto}:PRINT a$:NEXT I%\n`;

            // Incluir lógica para cambiar colores según selección
            basContent += `160 opcion%=1\n170 LOCATE 5,opcion%*(2+(Z%>10))+5:PEN ${colorNumeroSeleccionado}:PAPER ${colorCajetinNumero}:PRINT USING"##";opcion%;:PRINT") ";:a$="":WHILE a$="":a$=INKEY$:WEND\n`;
            basContent += `180 IF a$=CHR$(241) OR a$=CHR$(10) THEN LOCATE 5,opcion%*(2+(Z%>10))+5:PAPER 0:PEN ${colorNumero}:PRINT USING"##";opcion%;:PRINT") ";:opcion%=opcion%+1:IF opcion%=Z%+1 THEN opcion%=Z%\n`;
            basContent += `190 IF a$=CHR$(240) OR a$=CHR$(11) THEN LOCATE 5,opcion%*(2+(Z%>10))+5:PAPER 0:PEN ${colorNumero}:PRINT USING"##";opcion%;:PRINT") ";:opcion%=opcion%-1:IF opcion%=0 THEN opcion%=1\n`;
            basContent += `200 IF VAL("0"+a$)>0 THEN opcion%=VAL(a$):GOTO 230\n210 IF a$<>CHR$(13) AND a$<>"X" AND a$<>"Z" AND a$<>" " THEN a$="":GOTO 170 ELSE 230\n220 PRINT"Cargando..."b$(opcion%)\n`;
            basContent += `230 GOSUB 240:PEN ${colorTexto}:PAPER 0:RUN B$(opcion%)\n240 FOR j%=1 TO Z%\n250 PEN ${colorTexto}:PAPER 0\n260 IF opcion%=j% THEN PRINT CHR$(24)\n270 LOCATE 5,j%*(2+(Z%>10))+5:PRINT USING"##";j%;:PRINT") "\n280 NEXT j%\n290 RETURN\n`;

            basContent += `320 DATA ${numProgramas}`;
            for (let i = 1; i <= numProgramas; i++) {
                let nombre = document.getElementById(`programa${i}Nombre`).value;
                let archivo = document.getElementById(`programa${i}Archivo`).value;
                basContent += `,"${nombre}","${archivo}"`;
            }

            let blob = new Blob([basContent], { type: "text/plain" });
            let link = document.getElementById("downloadLink");
            link.href = URL.createObjectURL(blob);
            link.download = "Disc.bas";
            link.style.display = "block";
            link.innerHTML = "Descargar Archivo Disc.bas";
        }

        // Crear los campos al cargar la página
        crearCamposProgramas();

        // Actualizar los previos al cargar la página
        actualizarTodosLosPrevios();
    </script>
</body>
</html>
